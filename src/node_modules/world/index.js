var three = require('three');
var textures = require('textures');
var tweener = require('tweener');

var initd = false;

var scene;

function init() {
	if(initd) return;
	initd = true;

	scene = new three.Scene();
	module.exports.scene = scene;

	delete module.exports.init;
}

function spawnDeathToll(person) {
	mesh = textures.getSprite('icon_dog.png');
	//debugger;
	mesh.position.copy(person.mesh.position);
	mesh.position.z = person.height;
	scene.add(mesh);
	tweener.to(mesh.position, 2, {
		z: mesh.position.z += 200
	});
}

module.exports = {
	init: init,
	death:spawnDeathToll
};