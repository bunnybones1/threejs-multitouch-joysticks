var howl = require('howler');
var fx = require('../../../assets/audio/sfx/sfx.json');
var track = require('../../../assets/audio/soundtrack/output.json');


var initd = false; 
var sfx_player;
var bg_player;
function init() { 
	if (initd) { 
		return;
	}
	initd = true; 

	console.log(fx);
	//debugger;
	sfx_player = new howl.Howl({
		urls: fx.urls,
		sprite: fx.sprite
	});
	bg_player = new howl.Howl({
		urls: track.urls,
		sprite: track.sprite
	});
}


function play(player, code) { 
	if (player == 'sfx'){
		sfx_player.play(code);
	}
	else{
		bg_player.play(code).loop(true);
	}
}


var exports = {
	init:init,
	play:play
};

module.exports = exports;