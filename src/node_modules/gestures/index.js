var initd = false;

var touch = require('input/touch');
var view = require('view');

var draw = require('./draw');
var shoot = require('./shoot');
var shootVolley = require('./shootVolley');
var walk = require('./walk');

function registerGesture(gesture) {
	touch.registerHandler(gesture);
	view.registerCameraOffsetCallback(gesture.updateCameraOffset);
	return gesture;
}

function init() {
	if(initd) return;
	initd = true;

	exports.shoot = registerGesture(shoot);
	exports.shoot = registerGesture(shootVolley);

	delete exports.init;
}

var exports = {
	init: init
};

module.exports = exports;