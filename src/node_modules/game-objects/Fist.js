var Person = require('./Person');
var physics = require('physics');
var bits = require('physics/bits');
var defaults = require('lodash.defaults');

var defaultActorParams = {
	name: 'fist',
	shape: 'circle',
	radius: 10,
	mass: 1,
	friction: 0,
	x: 300,
	y: 200,
	categoryBits: bits.enemyWeapon,
	maskBits: bits.environment | bits.hero,
	fixedRotation: true,
	linearDamping: 10,
	interval: 1000,
	color: 0x7f22ff
};

function Fist(params) {
	params = params || {};
	defaults(params, defaultActorParams);
	Person.call(this, params);
}

Fist.prototype = Object.create(Person.prototype);

var material;
Fist.prototype.getMaterial = function(color) {
	if(!material) {
		material = new THREE.MeshBasicMaterial({
			color: color,
			depthTest: false,
			transparent: true
		})
	}
	return material;
}

var geometry;
Fist.prototype.getGeometry = function (radius) {
	if (!geometry){
		geometry = new THREE.SphereGeometry(radius, 6, 4)
	}
	return  geometry
}


module.exports = Fist;