var Person = require('./Person');
var Fist = require('./Fist');
var bits = require('physics/bits');
var defaults = require('lodash.defaults');

var defaultFistParams = {
	categoryBits: bits.enemyWeapon,
	maskBits: bits.environment | bits.hero,
}

function Fighter(params) {
	params = params || {};
	Person.call(this, params);
	var fistParams = params.fistParams || {};
	if(!fistParams.material) {
		fistParams.material = this.getMaterial();
	}
	defaults(fistParams, defaultFistParams);
	new Fist(fistParams);
	new Fist(fistParams);
}

Fighter.prototype = Object.create(Person.prototype);

module.exports = Fighter;